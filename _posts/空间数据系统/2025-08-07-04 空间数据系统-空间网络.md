---
data: 2025-08-07
categories: [空间数据系统]
description: “空间网络”或“空间数据系统的网络化”用于传送空间数据系统应用层产生的各种协议数据单元
tag: [CCSDS, DTN, BP, LTP, IPoC, 封装业务, 封装包, 空间包]
comments: true
---

## 1 空间网络[^1]

- 空间网络的概念

  > 1. 空间数据系统的网络化，建立空间领域的网络，提供类似地面因特网的服务功能（CCSDS 提出的 SSI）
  > 2. 将传统的（以空间链路为主的）“单地面站对单航天器的通信模式”扩展到“多地面用户对多航天器用户组成的多用户系统”，实现端到端的通信，具有网络通信的属性，仍以空间包为主要用户数据单元在空间链路上传输

- 太阳系互联网络(SSI)

  > 1. 在太阳系范围的空间领域构建一个自动通信系统，使用户可以像使用地面因特网一样，在不必了解网络细节的情况下实现空间数据的传输
  > 2. 建立在空间数据链路之上
  > 3. 可以连接不同类型的空间网络

- SSI 的主要构成

  > 1. 容延迟网络 DTN 体系结构：用于所有空间网络环境，SSI 中各部分网络互连核心
  > 2. 因特网 IP 体系结构：仅用于连接性好、传输延迟相对较小的网络环境（地球和行星表面及周围、大型航天器内部网络）。CCSDS 利用空间数据链路服务支持运行 TCP/IP 协议族的一般性标准 IPoC  
  >    ![](/img/2025-08-05/Snipaste_2025-08-20_12-46-23.jpg){:width="600" hight="400"}

- 空间包传输

  > 在全面、完善的空间网络环境建立之前，建立的一种轻量级的空间通信方式。

  > 将空间包传输方式扩展到具有网络传输属性的多用户、多节点通信系统是一种可行方案，需要解决的问题有：
  >
  > 1. 增加空间包协议不具备的流量控制机制，以保证用户数据可靠传输
  > 2. 建立全局应用过程的命名机制，用于通信过程中的寻址和路由
  > 3. 建立应用层、网络层及物理层地址的自动转换机制
  > 4. 建立动态路由机制，代替传统空间包中 LDP 的固定设置路径，以适应动态变化的网络通信环境

## 2 DTN [^2]

- 延迟/中断容忍网络应用环境特点

  > ![](/img/2025-08-05/Snipaste_2025-08-20_18-12-11.jpg){:width="800" hight="400"}

- 核心

  > 在不同网络体系结构的应用层和传输层之间引入一个覆盖层（束层 Bundle Layer，束层上运行束协议 Bundle Protocol），以存储转发的方式进行异步消息传输

  > 根据通信质量，下层服务选择 TCP/IP 协议族，或 DTN 专用的传输层协议 LTP

  > 从追求“低延迟、高吞吐”转变为追求“最终可达性”和“在极端约束下的可靠性”

- DTN 体系结构之下：
  > 1.  域：采用同一种网络协议的网络节点相互连接构成域
  > 2.  域内：信息传输及可靠性由**域内网络技术实现**
  > 3.  域间：由 DTN 网关连接，信息传输及可靠性由运行在 DTN 网关之上的 BP 实现

### 2.1 BP

> 与 IP 不同，BP 不要求建立端到端的连接，而是允许数据在网络中存储，直到其可以被传送到目的端

> 与 IP 相同，BP 也需要下层协议的支持，当通信质量好时，BP 直接利用 TCP/IP 协议族提供的传输层服务；当通信质量差时，BP 利用 DTN 专用的传输层协议 LTP

#### 2.1.1 核心概念

1. 角色定位

   > **覆盖层协议**  
   > 并不取代 TCP/IP，而是运行在其之上，屏蔽底层网络的异构性

2. 核心工作模式
   > **存储——转发机制**  
   > 在 BL 中传送的消息称为束 Bundle，BP 负责生成束并在 DTN 中传输，节点接收并持久化存储整个束，直到可以传送到通往目的节点的下一个节点

#### 2.1.2 数据单元(束)格式

- 组成：`束首块(Primary Bundle Block)`+`束负载(Bundle Payload)`+`附加块(Extension Block)`
- 编码方法：自定界数字值(Self-Delimited Number Value)
  变长，以减少管理信息占用的传输带宽

  > ![](/img/2025-08-05/Snipaste_2025-08-20_19-10-52.jpg){:width="600" hight="400"}

  > ![](/img/2025-08-05/Snipaste_2025-08-20_20-25-27.jpg){:width="600" hight="400"}

#### 2.1.3 关键机制

1. 保管传递
   > **概念**：一种逐跳的可靠性保证机制，接收节点在收到束时承诺保留该束的副本，以备在需要时再次转发该束，保管会在指定情况下被释放
2. 路由

   > **特点**：BP 并没有规定具体的路由算法，但通常时**基于联系计划**的，而不是传统的拓扑路由。

   > **国内外提出**：消息复制/泛洪策略路由、转发策略路由、历史/预测策略路由、编码策略路由、拓扑知识策略路由、概率策略路由等

3. 安全保证

   > **束安全协议 BSP**：作为附加块实现，提供**端到端**的完整性、机密性和认证

4. 应对间歇性连接
   > 节点可以等待几个小时甚至几天，直到下一个连接机会。

### 2.2 LTP

> 为的**单条长时延、高误码率**的链路设计的**点对点**协议。通常作为 BP 的 CLA，即 BP 通过 LTP 在一条链路上传输数据

> LTP 类似于邮政卡车，确保包裹从 A 到 B 的传输中不会丢失或损坏，但不关心包裹最终的目的地（BP 的任务）

#### 2.2.1 核心概念

1. 角色定位

   > **底层传输协议**或**链路层协议**，为单跳提供可靠性

2. 核心目标

   > 在长时延或断续连接的链路上，实现**可靠地数据块（从 BP 接收到的完整数据单元）传输**

3. 概念辨析
   > **块 block**：LTP 从上层（也就是 Bundle Protocol）接收到的完整数据单元，LTP 不关心这块数据里面是什么，它只将其视为一个不透明的、需要被可靠传输的数据块
   > **段 segment**：LTP 为了在网络上传输而创建的协议数据单元。因为网络链路有 MTU（最大传输单元） 的限制，一个大的 LTP“块”通常无法一次性发出。 LTP 会将一个大的数据块切割成多个适合网络传输的小段。每个段都带有 LTP 的协议头，包含序号、检查点、会话 ID 等信息

#### 2.2.2 数据单元(段)格式

- 组成：`数据段`+`报告段`+`报告-确认段`+`取消段`+`取消确认段`等
  > 数据段：携带一部分“块”的数据  
  > 报告段：只携带控制信息（收到哪些段，请求重传哪些段）  
  > 报告确认段：用于确认收到了“报告段”本身

#### 2.2.3 关键机制

- 两部分握手：

  - 第一部分：可靠传输（传输红色数据，采用确认-重传机制）

    > 发送方发送一个或多个数据段，并将其标记为红色（高优先级，必须确认）。

    > 接收方收到后，生成一个报告段（RS），指出哪些红色数据段已收到/丢失。

    > 发送方收到 RS 后，重传丢失的数据段，并发送一个报告确认段（RA） 来确认收到了 RS。

  - 第二部分：尽力传输（传输绿色数据，不采用确认-重传机制）

    > 发送方发送绿色数据（低优先级，不要求确认）。

    > 传输完成后，发送一个完全由检查点触发的 RS 来结束会话，清理状态。

> 设计原因：允许应用区分关键数据和非关键数据，优化资源使用。

## 3 IPoC[^3]

## 4 封装包[^4]

## 5 空间包[^5]

[^1]: 赵和平, 何熊文, 刘崇华, 强晖萍. 空间数据系统[M]. 北京: 人民邮电出版社, 2018, 142-146.
[^2]: 赵和平, 何熊文, 刘崇华, 强晖萍. 空间数据系统[M]. 北京: 人民邮电出版社, 2018, 147-158.
[^3]: 赵和平, 何熊文, 刘崇华, 强晖萍. 空间数据系统[M]. 北京: 人民邮电出版社, 2018, 159-163.
[^4]: 赵和平, 何熊文, 刘崇华, 强晖萍. 空间数据系统[M]. 北京: 人民邮电出版社, 2018, 164-168.
[^5]: 赵和平, 何熊文, 刘崇华, 强晖萍. 空间数据系统[M]. 北京: 人民邮电出版社, 2018, 169-179.
